<!-- Desktop Sidebar -->
@if (!isMobile()) {
  <app-sidebar
    [collapsed]="sidebarCollapsed()"
    [isMobileDrawer]="false"
    (toggleCollapse)="toggleSidebar()"
  />
}

<!-- Mobile Drawer -->
@if (isMobile()) {
  <p-drawer
    [(visible)]="sidebarVisible"
    [modal]="true"
    position="left"
    styleClass="w-72"
    (onHide)="closeMobileSidebar()"
  >
    <ng-template pTemplate="header">
      <span class="font-bold text-xl">Megabin</span>
    </ng-template>
    <ng-template pTemplate="content">
      <app-sidebar [collapsed]="false" [isMobileDrawer]="true" />
    </ng-template>
  </p-drawer>
}

<!-- Main Content Area -->
<div class="flex-1 flex flex-col min-w-0">
  <!-- Top Bar (mobile only) -->
  @if (isMobile()) {
    <header class="flex items-center justify-between p-4 border-b border-surface-200 bg-surface-0">
      <p-button
        icon="pi pi-bars"
        [text]="true"
        [rounded]="true"
        severity="secondary"
        (onClick)="toggleSidebar()"
        ariaLabel="Open navigation menu"
      />
      <span class="font-bold text-xl text-surface-900">Megabin</span>
      <div class="w-10"></div>
    </header>
  }

  <!-- Page Content -->
  <main class="flex-1 p-4 overflow-auto bg-surface-50">
    <router-outlet />
  </main>
</div>
